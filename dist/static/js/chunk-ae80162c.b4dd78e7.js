(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ae80162c"],{"4e3d":function(t,e,i){t.exports=i.p+"static/img/none.d985418e.jpg"},d63b:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{"padding-top":"60px"}},[s("div",{staticStyle:{height:"50px","background-color":"#f2f2f2",width:"100vw"}},[s("div",{staticStyle:{height:"100%",display:"flex","align-items":"center",margin:"0 auto",width:"1360px"}},[s("el-page-header",{attrs:{content:"确认订单"},on:{back:t.goBack}})],1)]),s("span",{staticStyle:{color:"#ff6700",margin:"0 auto",width:"1200px",height:"50px",display:"flex","align-items":"center","justify-content":"center"}},[t._v(" 当前支付订单 ")]),s("div",{staticStyle:{height:"1px",background:"#ddd",width:"1200px",margin:"0 auto"}}),s("div",{staticStyle:{margin:"0 auto",width:"1200px","padding-top":"12px",display:"flex"}},[s("el-descriptions",{staticClass:"margin-top",staticStyle:{width:"800px","margin-left":"8%"},attrs:{size:"medium",title:"订单详情",column:1}},[s("el-descriptions-item",{attrs:{label:"商家",labelStyle:"line-height: 4;",contentStyle:"line-height: 4;"}},[t._v(" "+t._s(t.goods_list.sellusername))]),s("el-descriptions-item",{attrs:{label:"买家",labelStyle:"line-height: 4;",contentStyle:"line-height: 4;"}},[t._v(" "+t._s(t.suser.susername))]),s("el-descriptions-item",{attrs:{label:"电话",labelStyle:"line-height: 4;",contentStyle:"line-height: 4;"}},[t._v(" "+t._s(t.suser.sphone))]),s("el-descriptions-item",{attrs:{label:"学院班级",labelStyle:"line-height: 4;",contentStyle:"line-height: 4;"}},[t._v(" "+t._s(t.suser.sschool)+"/"+t._s(t.suser.scollege)+"/"+t._s(t.suser.sclass))]),s("el-descriptions-item",{attrs:{label:"年级",labelStyle:"line-height: 4;",contentStyle:"line-height: 4;"}},[t._v(" "+t._s(t.suser.sgrade))]),s("el-descriptions-item",{attrs:{label:"住址",labelStyle:"line-height: 4;",contentStyle:"line-height: 4;"}},[t._v(" "+t._s(t.suser.sadress))])],1),s("el-descriptions",{staticClass:"margin-top",staticStyle:{width:"800px","margin-left":"8%"},attrs:{size:"medium",title:"商品详情",column:1}},[s("el-descriptions-item",{attrs:{label:"商品名",labelStyle:"line-height: 4;",contentStyle:"line-height: 4;"}},[t._v(" "+t._s(t.goods_list.gname))]),s("el-descriptions-item",{attrs:{label:"图片",labelStyle:"line-height: 3;",contentStyle:"color:#ff6700;font-size: 20px;line-height: 2;"}},[s("el-image",{staticStyle:{width:"60px",height:"60px","margin-left":"2%"},attrs:{src:t.goods_list.gphoto,"preview-src-list":[t.goods_list.gphoto]}},[s("div",{attrs:{slot:"error"},slot:"error"},[s("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:i("4e3d")}})])])],1),s("el-descriptions-item",{attrs:{label:"价格",labelStyle:"line-height: 3;",contentStyle:"color:#ff6700;font-size: 20px;line-height: 2;"}},[t._v("￥"+t._s(t.goods_list.gsellprice)+" ")]),s("el-descriptions-item",{attrs:{label:"商品描述",labelStyle:"line-height: 4;",contentStyle:"line-height: 4;"}},[t._v(" "+t._s(t.goods_list.gdescribe))]),s("el-descriptions-item",{attrs:{label:"原价格",labelStyle:"line-height: 4;",contentStyle:"line-height: 4;"}},[t._v(" ￥"+t._s(t.goods_list.gbuyprice))]),s("el-descriptions-item",{attrs:{label:"上架时间",labelStyle:"line-height: 4;",contentStyle:"line-height: 4;"}},[t._v(" "+t._s(t.goods_list.gtime))]),s("el-descriptions-item",{attrs:{label:"修改时间",labelStyle:"line-height: 4;",contentStyle:"line-height: 4;"}},[t._v(" "+t._s(t.goods_list.gupdate_time))])],1)],1),s("div",{staticStyle:{margin:"0 auto",width:"1200px","margin-top":"14px","margin-bottom":"100px"}},[s("el-button",{staticStyle:{width:"200px",height:"50px",float:"right"},attrs:{loading:t.loading,disabled:1!=t.goods_list.gstatus,type:"danger"},on:{click:t.onSubmit}},[0==t.goods_list.gstatus?s("span",[t._v("商品未审核")]):2==t.goods_list.gstatus?s("span",[t._v("商品已售出")]):1==t.goods_list.gstatus?s("span",[t.loading?s("span",[t._v("支 付 中...")]):s("span",[t._v("确认支付")])]):s("span",[t._v("商品已下架")])]),s("div",{staticStyle:{float:"right","line-height":"46px","padding-right":"46px"}},[s("span",[t._v("总计")]),s("span",{staticStyle:{color:"#ff6700","font-size":"20px"}},[t._v("￥"+t._s(t.goods_list.gsellprice))])]),s("div",{staticStyle:{height:"1px",background:"#ddd",margin:"0 auto"}})],1)])},l=[],o={data:function(){return{suser:localStorage.getItem("student_user")?JSON.parse(localStorage.getItem("student_user")):[],sid:localStorage.getItem("student_user")?JSON.parse(localStorage.getItem("student_user")).sid:"",gid:this.$route.query.gid,goods_list:[],loading:!1,gstatus:""}},created:function(){this.load()},methods:{load:function(){var t=this;this.request.get("/goods/getOneGoods",{params:{Gid:this.gid}}).then((function(e){t.goods_list=e}))},onSubmit:function(){var t=this;""!=this.sid?(this.gstatus="2",this.loading=!0,setTimeout((function(){t.loading=!1}),4500),this.request.post("/order/insertOrder?BUYSid="+this.sid+"&SELLSid="+this.goods_list.sid+"&Gid="+this.gid+"&Oprice="+this.goods_list.gsellprice).then((function(e){"200"==e.code?t.request.put("/goods/updateGoodsGstatus?Gid="+t.gid+"&Gstatus="+t.gstatus).then((function(e){console.log(e),"200"==e.code?setTimeout((function(){t.$router.push({path:"/pay",query:{gid:t.gid}}),t.$message.success("交易成功")}),1e3):setTimeout((function(){t.$message.error(e.msg),t.loading=!1}),800)})):setTimeout((function(){t.$message.error(e.msg),t.loading=!1}),800)}))):this.$message.error("您当前未登录!")},goBack:function(){this.$router.back()}}},n=o,a=i("2877"),r=Object(a["a"])(n,s,l,!1,null,"4d160074",null);e["default"]=r.exports}}]);
//# sourceMappingURL=chunk-ae80162c.b4dd78e7.js.map